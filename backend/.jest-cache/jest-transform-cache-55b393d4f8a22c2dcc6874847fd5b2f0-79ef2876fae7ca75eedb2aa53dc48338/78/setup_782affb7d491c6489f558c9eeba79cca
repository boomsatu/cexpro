3c6001456d599eaa596bf72fa1c19cce
// Mock database modules for testing

// Mock external services
_getJestObj().mock('../src/models', () => ({
  sequelize: {
    authenticate: jest.fn().mockResolvedValue(true),
    sync: jest.fn().mockResolvedValue(true),
    close: jest.fn().mockResolvedValue(true),
    truncate: jest.fn().mockResolvedValue(true)
  },
  User: {
    findOne: jest.fn(),
    create: jest.fn(),
    findAll: jest.fn()
  },
  TradingPair: {
    findOne: jest.fn(),
    create: jest.fn(),
    findAll: jest.fn()
  },
  Order: {
    findOne: jest.fn(),
    create: jest.fn(),
    findAll: jest.fn()
  },
  Balance: {
    findOne: jest.fn(),
    create: jest.fn(),
    findAll: jest.fn()
  }
}));
_getJestObj().mock('../src/config/redis', () => ({
  flushdb: jest.fn().mockResolvedValue('OK'),
  quit: jest.fn().mockResolvedValue('OK'),
  get: jest.fn().mockResolvedValue(null),
  set: jest.fn().mockResolvedValue('OK'),
  del: jest.fn().mockResolvedValue(1)
}));
_getJestObj().mock('mongoose', () => ({
  connect: jest.fn().mockResolvedValue(true),
  connection: {
    readyState: 1,
    close: jest.fn().mockResolvedValue(true)
  }
}));
_getJestObj().mock('../src/services/emailService', () => ({
  sendEmail: jest.fn().mockResolvedValue(true),
  sendVerificationEmail: jest.fn().mockResolvedValue(true),
  sendPasswordResetEmail: jest.fn().mockResolvedValue(true)
}));
_getJestObj().mock('../src/services/smsService', () => ({
  sendSMS: jest.fn().mockResolvedValue(true),
  sendVerificationSMS: jest.fn().mockResolvedValue(true)
}));
// Mock external services
_getJestObj().mock('../src/services/emailService', () => ({
  sendEmail: jest.fn().mockResolvedValue(true),
  sendVerificationEmail: jest.fn().mockResolvedValue(true),
  sendPasswordResetEmail: jest.fn().mockResolvedValue(true)
}));
_getJestObj().mock('../src/services/smsService', () => ({
  sendSMS: jest.fn().mockResolvedValue(true),
  sendVerificationSMS: jest.fn().mockResolvedValue(true)
}));

// Increase timeout for integration tests
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const {
  sequelize
} = require('../src/models');
const redis = require('../src/config/redis');
const mongoose = require('mongoose');

// Setup test environment
process.env.NODE_ENV = 'test';
process.env.JWT_SECRET = 'test-jwt-secret-key-for-testing-only';
process.env.ENCRYPTION_KEY = 'test-encryption-key-32-chars-long';
process.env.REDIS_URL = 'redis://localhost:6379/1'; // Use different DB for tests
process.env.POSTGRES_DB = 'cex_test';
process.env.MONGODB_URI = 'mongodb://localhost:27017/cex_test';

// Global test setup
beforeAll(async () => {
  // Wait for database connections
  await sequelize.authenticate();
  console.log('PostgreSQL connected for testing');

  // Sync database (create tables)
  await sequelize.sync({
    force: true
  });
  console.log('Test database synced');

  // Connect to MongoDB
  if (mongoose.connection.readyState === 0) {
    await mongoose.connect(process.env.MONGODB_URI);
    console.log('MongoDB connected for testing');
  }

  // Clear Redis test database
  await redis.flushdb();
  console.log('Redis test database cleared');
});

// Global test teardown
afterAll(async () => {
  // Close database connections
  await sequelize.close();
  await mongoose.connection.close();
  await redis.quit();
  console.log('Test databases disconnected');
});

// Clear data between tests
beforeEach(async () => {
  // Clear Redis cache
  await redis.flushdb();

  // Truncate all PostgreSQL tables
  await sequelize.truncate({
    cascade: true,
    restartIdentity: true
  });
});

// Test utilities
global.testUtils = {
  // Create test user
  createTestUser: async (userData = {}) => {
    const User = require('../src/models/User');
    const defaultUser = {
      username: 'testuser',
      email: 'test@example.com',
      password: 'TestPassword123!',
      first_name: 'Test',
      last_name: 'User',
      email_verified: true,
      kyc_status: 'verified',
      status: 'active'
    };
    return await User.create({
      ...defaultUser,
      ...userData
    });
  },
  // Create test trading pair
  createTestTradingPair: async (pairData = {}) => {
    const TradingPair = require('../src/models/TradingPair');
    const defaultPair = {
      symbol: 'BTC/USDT',
      base_currency: 'BTC',
      quote_currency: 'USDT',
      status: 'active',
      min_order_size: '0.001',
      max_order_size: '1000',
      tick_size: '0.01',
      lot_size: '0.001',
      maker_fee: '0.001',
      taker_fee: '0.002'
    };
    return await TradingPair.create({
      ...defaultPair,
      ...pairData
    });
  },
  // Create test balance
  createTestBalance: async (userId, currency = 'USDT', amount = '10000') => {
    const Balance = require('../src/models/Balance');
    return await Balance.create({
      user_id: userId,
      currency,
      available_balance: amount,
      locked_balance: '0',
      total_balance: amount
    });
  },
  // Generate JWT token for testing
  generateTestToken: userId => {
    const jwt = require('jsonwebtoken');
    return jwt.sign({
      userId,
      type: 'access'
    }, process.env.JWT_SECRET, {
      expiresIn: '1h'
    });
  }
};
jest.setTimeout(30000);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJzZXF1ZWxpemUiLCJhdXRoZW50aWNhdGUiLCJqZXN0IiwiZm4iLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInN5bmMiLCJjbG9zZSIsInRydW5jYXRlIiwiVXNlciIsImZpbmRPbmUiLCJjcmVhdGUiLCJmaW5kQWxsIiwiVHJhZGluZ1BhaXIiLCJPcmRlciIsIkJhbGFuY2UiLCJmbHVzaGRiIiwicXVpdCIsImdldCIsInNldCIsImRlbCIsImNvbm5lY3QiLCJjb25uZWN0aW9uIiwicmVhZHlTdGF0ZSIsInNlbmRFbWFpbCIsInNlbmRWZXJpZmljYXRpb25FbWFpbCIsInNlbmRQYXNzd29yZFJlc2V0RW1haWwiLCJzZW5kU01TIiwic2VuZFZlcmlmaWNhdGlvblNNUyIsInJlcXVpcmUiLCJyZWRpcyIsIm1vbmdvb3NlIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiSldUX1NFQ1JFVCIsIkVOQ1JZUFRJT05fS0VZIiwiUkVESVNfVVJMIiwiUE9TVEdSRVNfREIiLCJNT05HT0RCX1VSSSIsImJlZm9yZUFsbCIsImNvbnNvbGUiLCJsb2ciLCJmb3JjZSIsImFmdGVyQWxsIiwiYmVmb3JlRWFjaCIsImNhc2NhZGUiLCJyZXN0YXJ0SWRlbnRpdHkiLCJnbG9iYWwiLCJ0ZXN0VXRpbHMiLCJjcmVhdGVUZXN0VXNlciIsInVzZXJEYXRhIiwiZGVmYXVsdFVzZXIiLCJ1c2VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiZW1haWxfdmVyaWZpZWQiLCJreWNfc3RhdHVzIiwic3RhdHVzIiwiY3JlYXRlVGVzdFRyYWRpbmdQYWlyIiwicGFpckRhdGEiLCJkZWZhdWx0UGFpciIsInN5bWJvbCIsImJhc2VfY3VycmVuY3kiLCJxdW90ZV9jdXJyZW5jeSIsIm1pbl9vcmRlcl9zaXplIiwibWF4X29yZGVyX3NpemUiLCJ0aWNrX3NpemUiLCJsb3Rfc2l6ZSIsIm1ha2VyX2ZlZSIsInRha2VyX2ZlZSIsImNyZWF0ZVRlc3RCYWxhbmNlIiwidXNlcklkIiwiY3VycmVuY3kiLCJhbW91bnQiLCJ1c2VyX2lkIiwiYXZhaWxhYmxlX2JhbGFuY2UiLCJsb2NrZWRfYmFsYW5jZSIsInRvdGFsX2JhbGFuY2UiLCJnZW5lcmF0ZVRlc3RUb2tlbiIsImp3dCIsInNpZ24iLCJ0eXBlIiwiZXhwaXJlc0luIiwic2V0VGltZW91dCJdLCJzb3VyY2VzIjpbInNldHVwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE1vY2sgZGF0YWJhc2UgbW9kdWxlcyBmb3IgdGVzdGluZ1xuamVzdC5tb2NrKCcuLi9zcmMvbW9kZWxzJywgKCkgPT4gKHtcbiAgc2VxdWVsaXplOiB7XG4gICAgYXV0aGVudGljYXRlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSksXG4gICAgc3luYzogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHRydWUpLFxuICAgIGNsb3NlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSksXG4gICAgdHJ1bmNhdGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKVxuICB9LFxuICBVc2VyOiB7XG4gICAgZmluZE9uZTogamVzdC5mbigpLFxuICAgIGNyZWF0ZTogamVzdC5mbigpLFxuICAgIGZpbmRBbGw6IGplc3QuZm4oKVxuICB9LFxuICBUcmFkaW5nUGFpcjoge1xuICAgIGZpbmRPbmU6IGplc3QuZm4oKSxcbiAgICBjcmVhdGU6IGplc3QuZm4oKSxcbiAgICBmaW5kQWxsOiBqZXN0LmZuKClcbiAgfSxcbiAgT3JkZXI6IHtcbiAgICBmaW5kT25lOiBqZXN0LmZuKCksXG4gICAgY3JlYXRlOiBqZXN0LmZuKCksXG4gICAgZmluZEFsbDogamVzdC5mbigpXG4gIH0sXG4gIEJhbGFuY2U6IHtcbiAgICBmaW5kT25lOiBqZXN0LmZuKCksXG4gICAgY3JlYXRlOiBqZXN0LmZuKCksXG4gICAgZmluZEFsbDogamVzdC5mbigpXG4gIH1cbn0pKTtcblxuamVzdC5tb2NrKCcuLi9zcmMvY29uZmlnL3JlZGlzJywgKCkgPT4gKHtcbiAgZmx1c2hkYjogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKCdPSycpLFxuICBxdWl0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoJ09LJyksXG4gIGdldDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpLFxuICBzZXQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgnT0snKSxcbiAgZGVsOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoMSlcbn0pKTtcblxuamVzdC5tb2NrKCdtb25nb29zZScsICgpID0+ICh7XG4gIGNvbm5lY3Q6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKSxcbiAgY29ubmVjdGlvbjoge1xuICAgIHJlYWR5U3RhdGU6IDEsXG4gICAgY2xvc2U6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKVxuICB9XG59KSk7XG5cbi8vIE1vY2sgZXh0ZXJuYWwgc2VydmljZXNcbmplc3QubW9jaygnLi4vc3JjL3NlcnZpY2VzL2VtYWlsU2VydmljZScsICgpID0+ICh7XG4gIHNlbmRFbWFpbDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHRydWUpLFxuICBzZW5kVmVyaWZpY2F0aW9uRW1haWw6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKSxcbiAgc2VuZFBhc3N3b3JkUmVzZXRFbWFpbDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHRydWUpXG59KSk7XG5cbmplc3QubW9jaygnLi4vc3JjL3NlcnZpY2VzL3Ntc1NlcnZpY2UnLCAoKSA9PiAoe1xuICBzZW5kU01TOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSksXG4gIHNlbmRWZXJpZmljYXRpb25TTVM6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKVxufSkpO1xuXG5jb25zdCB7IHNlcXVlbGl6ZSB9ID0gcmVxdWlyZSgnLi4vc3JjL21vZGVscycpO1xuY29uc3QgcmVkaXMgPSByZXF1aXJlKCcuLi9zcmMvY29uZmlnL3JlZGlzJyk7XG5jb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5cbi8vIFNldHVwIHRlc3QgZW52aXJvbm1lbnRcbnByb2Nlc3MuZW52Lk5PREVfRU5WID0gJ3Rlc3QnO1xucHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCA9ICd0ZXN0LWp3dC1zZWNyZXQta2V5LWZvci10ZXN0aW5nLW9ubHknO1xucHJvY2Vzcy5lbnYuRU5DUllQVElPTl9LRVkgPSAndGVzdC1lbmNyeXB0aW9uLWtleS0zMi1jaGFycy1sb25nJztcbnByb2Nlc3MuZW52LlJFRElTX1VSTCA9ICdyZWRpczovL2xvY2FsaG9zdDo2Mzc5LzEnOyAvLyBVc2UgZGlmZmVyZW50IERCIGZvciB0ZXN0c1xucHJvY2Vzcy5lbnYuUE9TVEdSRVNfREIgPSAnY2V4X3Rlc3QnO1xucHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkgPSAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9jZXhfdGVzdCc7XG5cbi8vIEdsb2JhbCB0ZXN0IHNldHVwXG5iZWZvcmVBbGwoYXN5bmMgKCkgPT4ge1xuICAvLyBXYWl0IGZvciBkYXRhYmFzZSBjb25uZWN0aW9uc1xuICBhd2FpdCBzZXF1ZWxpemUuYXV0aGVudGljYXRlKCk7XG4gIGNvbnNvbGUubG9nKCdQb3N0Z3JlU1FMIGNvbm5lY3RlZCBmb3IgdGVzdGluZycpO1xuICBcbiAgLy8gU3luYyBkYXRhYmFzZSAoY3JlYXRlIHRhYmxlcylcbiAgYXdhaXQgc2VxdWVsaXplLnN5bmMoeyBmb3JjZTogdHJ1ZSB9KTtcbiAgY29uc29sZS5sb2coJ1Rlc3QgZGF0YWJhc2Ugc3luY2VkJyk7XG4gIFxuICAvLyBDb25uZWN0IHRvIE1vbmdvREJcbiAgaWYgKG1vbmdvb3NlLmNvbm5lY3Rpb24ucmVhZHlTdGF0ZSA9PT0gMCkge1xuICAgIGF3YWl0IG1vbmdvb3NlLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkpO1xuICAgIGNvbnNvbGUubG9nKCdNb25nb0RCIGNvbm5lY3RlZCBmb3IgdGVzdGluZycpO1xuICB9XG4gIFxuICAvLyBDbGVhciBSZWRpcyB0ZXN0IGRhdGFiYXNlXG4gIGF3YWl0IHJlZGlzLmZsdXNoZGIoKTtcbiAgY29uc29sZS5sb2coJ1JlZGlzIHRlc3QgZGF0YWJhc2UgY2xlYXJlZCcpO1xufSk7XG5cbi8vIEdsb2JhbCB0ZXN0IHRlYXJkb3duXG5hZnRlckFsbChhc3luYyAoKSA9PiB7XG4gIC8vIENsb3NlIGRhdGFiYXNlIGNvbm5lY3Rpb25zXG4gIGF3YWl0IHNlcXVlbGl6ZS5jbG9zZSgpO1xuICBhd2FpdCBtb25nb29zZS5jb25uZWN0aW9uLmNsb3NlKCk7XG4gIGF3YWl0IHJlZGlzLnF1aXQoKTtcbiAgY29uc29sZS5sb2coJ1Rlc3QgZGF0YWJhc2VzIGRpc2Nvbm5lY3RlZCcpO1xufSk7XG5cbi8vIENsZWFyIGRhdGEgYmV0d2VlbiB0ZXN0c1xuYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gIC8vIENsZWFyIFJlZGlzIGNhY2hlXG4gIGF3YWl0IHJlZGlzLmZsdXNoZGIoKTtcbiAgXG4gIC8vIFRydW5jYXRlIGFsbCBQb3N0Z3JlU1FMIHRhYmxlc1xuICBhd2FpdCBzZXF1ZWxpemUudHJ1bmNhdGUoeyBjYXNjYWRlOiB0cnVlLCByZXN0YXJ0SWRlbnRpdHk6IHRydWUgfSk7XG59KTtcblxuLy8gVGVzdCB1dGlsaXRpZXNcbmdsb2JhbC50ZXN0VXRpbHMgPSB7XG4gIC8vIENyZWF0ZSB0ZXN0IHVzZXJcbiAgY3JlYXRlVGVzdFVzZXI6IGFzeW5jICh1c2VyRGF0YSA9IHt9KSA9PiB7XG4gICAgY29uc3QgVXNlciA9IHJlcXVpcmUoJy4uL3NyYy9tb2RlbHMvVXNlcicpO1xuICAgIGNvbnN0IGRlZmF1bHRVc2VyID0ge1xuICAgICAgdXNlcm5hbWU6ICd0ZXN0dXNlcicsXG4gICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICdUZXN0UGFzc3dvcmQxMjMhJyxcbiAgICAgIGZpcnN0X25hbWU6ICdUZXN0JyxcbiAgICAgIGxhc3RfbmFtZTogJ1VzZXInLFxuICAgICAgZW1haWxfdmVyaWZpZWQ6IHRydWUsXG4gICAgICBreWNfc3RhdHVzOiAndmVyaWZpZWQnLFxuICAgICAgc3RhdHVzOiAnYWN0aXZlJ1xuICAgIH07XG4gICAgcmV0dXJuIGF3YWl0IFVzZXIuY3JlYXRlKHsgLi4uZGVmYXVsdFVzZXIsIC4uLnVzZXJEYXRhIH0pO1xuICB9LFxuICBcbiAgLy8gQ3JlYXRlIHRlc3QgdHJhZGluZyBwYWlyXG4gIGNyZWF0ZVRlc3RUcmFkaW5nUGFpcjogYXN5bmMgKHBhaXJEYXRhID0ge30pID0+IHtcbiAgICBjb25zdCBUcmFkaW5nUGFpciA9IHJlcXVpcmUoJy4uL3NyYy9tb2RlbHMvVHJhZGluZ1BhaXInKTtcbiAgICBjb25zdCBkZWZhdWx0UGFpciA9IHtcbiAgICAgIHN5bWJvbDogJ0JUQy9VU0RUJyxcbiAgICAgIGJhc2VfY3VycmVuY3k6ICdCVEMnLFxuICAgICAgcXVvdGVfY3VycmVuY3k6ICdVU0RUJyxcbiAgICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgICBtaW5fb3JkZXJfc2l6ZTogJzAuMDAxJyxcbiAgICAgIG1heF9vcmRlcl9zaXplOiAnMTAwMCcsXG4gICAgICB0aWNrX3NpemU6ICcwLjAxJyxcbiAgICAgIGxvdF9zaXplOiAnMC4wMDEnLFxuICAgICAgbWFrZXJfZmVlOiAnMC4wMDEnLFxuICAgICAgdGFrZXJfZmVlOiAnMC4wMDInXG4gICAgfTtcbiAgICByZXR1cm4gYXdhaXQgVHJhZGluZ1BhaXIuY3JlYXRlKHsgLi4uZGVmYXVsdFBhaXIsIC4uLnBhaXJEYXRhIH0pO1xuICB9LFxuICBcbiAgLy8gQ3JlYXRlIHRlc3QgYmFsYW5jZVxuICBjcmVhdGVUZXN0QmFsYW5jZTogYXN5bmMgKHVzZXJJZCwgY3VycmVuY3kgPSAnVVNEVCcsIGFtb3VudCA9ICcxMDAwMCcpID0+IHtcbiAgICBjb25zdCBCYWxhbmNlID0gcmVxdWlyZSgnLi4vc3JjL21vZGVscy9CYWxhbmNlJyk7XG4gICAgcmV0dXJuIGF3YWl0IEJhbGFuY2UuY3JlYXRlKHtcbiAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgIGN1cnJlbmN5LFxuICAgICAgYXZhaWxhYmxlX2JhbGFuY2U6IGFtb3VudCxcbiAgICAgIGxvY2tlZF9iYWxhbmNlOiAnMCcsXG4gICAgICB0b3RhbF9iYWxhbmNlOiBhbW91bnRcbiAgICB9KTtcbiAgfSxcbiAgXG4gIC8vIEdlbmVyYXRlIEpXVCB0b2tlbiBmb3IgdGVzdGluZ1xuICBnZW5lcmF0ZVRlc3RUb2tlbjogKHVzZXJJZCkgPT4ge1xuICAgIGNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xuICAgIHJldHVybiBqd3Quc2lnbihcbiAgICAgIHsgdXNlcklkLCB0eXBlOiAnYWNjZXNzJyB9LFxuICAgICAgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCxcbiAgICAgIHsgZXhwaXJlc0luOiAnMWgnIH1cbiAgICApO1xuICB9XG59O1xuXG4vLyBNb2NrIGV4dGVybmFsIHNlcnZpY2VzXG5qZXN0Lm1vY2soJy4uL3NyYy9zZXJ2aWNlcy9lbWFpbFNlcnZpY2UnLCAoKSA9PiAoe1xuICBzZW5kRW1haWw6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKSxcbiAgc2VuZFZlcmlmaWNhdGlvbkVtYWlsOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSksXG4gIHNlbmRQYXNzd29yZFJlc2V0RW1haWw6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKVxufSkpO1xuXG5qZXN0Lm1vY2soJy4uL3NyYy9zZXJ2aWNlcy9zbXNTZXJ2aWNlJywgKCkgPT4gKHtcbiAgc2VuZFNNUzogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHRydWUpLFxuICBzZW5kVmVyaWZpY2F0aW9uU01TOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSlcbn0pKTtcblxuLy8gSW5jcmVhc2UgdGltZW91dCBmb3IgaW50ZWdyYXRpb24gdGVzdHNcbmplc3Quc2V0VGltZW91dCgzMDAwMCk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUE4Q0E7QUE3Q0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGVBQWUsRUFBRSxPQUFPO0VBQ2hDQyxTQUFTLEVBQUU7SUFDVEMsWUFBWSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGlCQUFpQixDQUFDLElBQUksQ0FBQztJQUMvQ0MsSUFBSSxFQUFFSCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGlCQUFpQixDQUFDLElBQUksQ0FBQztJQUN2Q0UsS0FBSyxFQUFFSixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGlCQUFpQixDQUFDLElBQUksQ0FBQztJQUN4Q0csUUFBUSxFQUFFTCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGlCQUFpQixDQUFDLElBQUk7RUFDNUMsQ0FBQztFQUNESSxJQUFJLEVBQUU7SUFDSkMsT0FBTyxFQUFFUCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ2xCTyxNQUFNLEVBQUVSLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDakJRLE9BQU8sRUFBRVQsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDbkIsQ0FBQztFQUNEUyxXQUFXLEVBQUU7SUFDWEgsT0FBTyxFQUFFUCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ2xCTyxNQUFNLEVBQUVSLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDakJRLE9BQU8sRUFBRVQsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDbkIsQ0FBQztFQUNEVSxLQUFLLEVBQUU7SUFDTEosT0FBTyxFQUFFUCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ2xCTyxNQUFNLEVBQUVSLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDakJRLE9BQU8sRUFBRVQsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDbkIsQ0FBQztFQUNEVyxPQUFPLEVBQUU7SUFDUEwsT0FBTyxFQUFFUCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ2xCTyxNQUFNLEVBQUVSLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDakJRLE9BQU8sRUFBRVQsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDbkI7QUFDRixDQUFDLENBQUMsQ0FBQztBQUVITCxXQUFBLEdBQUtDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxPQUFPO0VBQ3RDZ0IsT0FBTyxFQUFFYixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGlCQUFpQixDQUFDLElBQUksQ0FBQztFQUMxQ1ksSUFBSSxFQUFFZCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGlCQUFpQixDQUFDLElBQUksQ0FBQztFQUN2Q2EsR0FBRyxFQUFFZixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGlCQUFpQixDQUFDLElBQUksQ0FBQztFQUN0Q2MsR0FBRyxFQUFFaEIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7RUFDdENlLEdBQUcsRUFBRWpCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ0MsaUJBQWlCLENBQUMsQ0FBQztBQUNwQyxDQUFDLENBQUMsQ0FBQztBQUVITixXQUFBLEdBQUtDLElBQUksQ0FBQyxVQUFVLEVBQUUsT0FBTztFQUMzQnFCLE9BQU8sRUFBRWxCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ0MsaUJBQWlCLENBQUMsSUFBSSxDQUFDO0VBQzFDaUIsVUFBVSxFQUFFO0lBQ1ZDLFVBQVUsRUFBRSxDQUFDO0lBQ2JoQixLQUFLLEVBQUVKLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ0MsaUJBQWlCLENBQUMsSUFBSTtFQUN6QztBQUNGLENBQUMsQ0FBQyxDQUFDO0FBR0hOLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDhCQUE4QixFQUFFLE9BQU87RUFDL0N3QixTQUFTLEVBQUVyQixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGlCQUFpQixDQUFDLElBQUksQ0FBQztFQUM1Q29CLHFCQUFxQixFQUFFdEIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7RUFDeERxQixzQkFBc0IsRUFBRXZCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ0MsaUJBQWlCLENBQUMsSUFBSTtBQUMxRCxDQUFDLENBQUMsQ0FBQztBQUVITixXQUFBLEdBQUtDLElBQUksQ0FBQyw0QkFBNEIsRUFBRSxPQUFPO0VBQzdDMkIsT0FBTyxFQUFFeEIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7RUFDMUN1QixtQkFBbUIsRUFBRXpCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ0MsaUJBQWlCLENBQUMsSUFBSTtBQUN2RCxDQUFDLENBQUMsQ0FBQztBQWdISDtBQUNBTixXQUFBLEdBQUtDLElBQUksQ0FBQyw4QkFBOEIsRUFBRSxPQUFPO0VBQy9Dd0IsU0FBUyxFQUFFckIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7RUFDNUNvQixxQkFBcUIsRUFBRXRCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ0MsaUJBQWlCLENBQUMsSUFBSSxDQUFDO0VBQ3hEcUIsc0JBQXNCLEVBQUV2QixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGlCQUFpQixDQUFDLElBQUk7QUFDMUQsQ0FBQyxDQUFDLENBQUM7QUFFSE4sV0FBQSxHQUFLQyxJQUFJLENBQUMsNEJBQTRCLEVBQUUsT0FBTztFQUM3QzJCLE9BQU8sRUFBRXhCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ0MsaUJBQWlCLENBQUMsSUFBSSxDQUFDO0VBQzFDdUIsbUJBQW1CLEVBQUV6QixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGlCQUFpQixDQUFDLElBQUk7QUFDdkQsQ0FBQyxDQUFDLENBQUM7O0FBRUg7QUFBQSxTQUFBTixZQUFBO0VBQUE7SUFBQUk7RUFBQSxJQUFBMEIsT0FBQTtFQUFBOUIsV0FBQSxHQUFBQSxDQUFBLEtBQUFJLElBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUExSEEsTUFBTTtFQUFFRjtBQUFVLENBQUMsR0FBRzRCLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDOUMsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMscUJBQXFCLENBQUM7QUFDNUMsTUFBTUUsUUFBUSxHQUFHRixPQUFPLENBQUMsVUFBVSxDQUFDOztBQUVwQztBQUNBRyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsUUFBUSxHQUFHLE1BQU07QUFDN0JGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxVQUFVLEdBQUcsc0NBQXNDO0FBQy9ESCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csY0FBYyxHQUFHLG1DQUFtQztBQUNoRUosT0FBTyxDQUFDQyxHQUFHLENBQUNJLFNBQVMsR0FBRywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3BETCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0ssV0FBVyxHQUFHLFVBQVU7QUFDcENOLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDTSxXQUFXLEdBQUcsb0NBQW9DOztBQUU5RDtBQUNBQyxTQUFTLENBQUMsWUFBWTtFQUNwQjtFQUNBLE1BQU12QyxTQUFTLENBQUNDLFlBQVksQ0FBQyxDQUFDO0VBQzlCdUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsa0NBQWtDLENBQUM7O0VBRS9DO0VBQ0EsTUFBTXpDLFNBQVMsQ0FBQ0ssSUFBSSxDQUFDO0lBQUVxQyxLQUFLLEVBQUU7RUFBSyxDQUFDLENBQUM7RUFDckNGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDOztFQUVuQztFQUNBLElBQUlYLFFBQVEsQ0FBQ1QsVUFBVSxDQUFDQyxVQUFVLEtBQUssQ0FBQyxFQUFFO0lBQ3hDLE1BQU1RLFFBQVEsQ0FBQ1YsT0FBTyxDQUFDVyxPQUFPLENBQUNDLEdBQUcsQ0FBQ00sV0FBVyxDQUFDO0lBQy9DRSxPQUFPLENBQUNDLEdBQUcsQ0FBQywrQkFBK0IsQ0FBQztFQUM5Qzs7RUFFQTtFQUNBLE1BQU1aLEtBQUssQ0FBQ2QsT0FBTyxDQUFDLENBQUM7RUFDckJ5QixPQUFPLENBQUNDLEdBQUcsQ0FBQyw2QkFBNkIsQ0FBQztBQUM1QyxDQUFDLENBQUM7O0FBRUY7QUFDQUUsUUFBUSxDQUFDLFlBQVk7RUFDbkI7RUFDQSxNQUFNM0MsU0FBUyxDQUFDTSxLQUFLLENBQUMsQ0FBQztFQUN2QixNQUFNd0IsUUFBUSxDQUFDVCxVQUFVLENBQUNmLEtBQUssQ0FBQyxDQUFDO0VBQ2pDLE1BQU11QixLQUFLLENBQUNiLElBQUksQ0FBQyxDQUFDO0VBQ2xCd0IsT0FBTyxDQUFDQyxHQUFHLENBQUMsNkJBQTZCLENBQUM7QUFDNUMsQ0FBQyxDQUFDOztBQUVGO0FBQ0FHLFVBQVUsQ0FBQyxZQUFZO0VBQ3JCO0VBQ0EsTUFBTWYsS0FBSyxDQUFDZCxPQUFPLENBQUMsQ0FBQzs7RUFFckI7RUFDQSxNQUFNZixTQUFTLENBQUNPLFFBQVEsQ0FBQztJQUFFc0MsT0FBTyxFQUFFLElBQUk7SUFBRUMsZUFBZSxFQUFFO0VBQUssQ0FBQyxDQUFDO0FBQ3BFLENBQUMsQ0FBQzs7QUFFRjtBQUNBQyxNQUFNLENBQUNDLFNBQVMsR0FBRztFQUNqQjtFQUNBQyxjQUFjLEVBQUUsTUFBQUEsQ0FBT0MsUUFBUSxHQUFHLENBQUMsQ0FBQyxLQUFLO0lBQ3ZDLE1BQU0xQyxJQUFJLEdBQUdvQixPQUFPLENBQUMsb0JBQW9CLENBQUM7SUFDMUMsTUFBTXVCLFdBQVcsR0FBRztNQUNsQkMsUUFBUSxFQUFFLFVBQVU7TUFDcEJDLEtBQUssRUFBRSxrQkFBa0I7TUFDekJDLFFBQVEsRUFBRSxrQkFBa0I7TUFDNUJDLFVBQVUsRUFBRSxNQUFNO01BQ2xCQyxTQUFTLEVBQUUsTUFBTTtNQUNqQkMsY0FBYyxFQUFFLElBQUk7TUFDcEJDLFVBQVUsRUFBRSxVQUFVO01BQ3RCQyxNQUFNLEVBQUU7SUFDVixDQUFDO0lBQ0QsT0FBTyxNQUFNbkQsSUFBSSxDQUFDRSxNQUFNLENBQUM7TUFBRSxHQUFHeUMsV0FBVztNQUFFLEdBQUdEO0lBQVMsQ0FBQyxDQUFDO0VBQzNELENBQUM7RUFFRDtFQUNBVSxxQkFBcUIsRUFBRSxNQUFBQSxDQUFPQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEtBQUs7SUFDOUMsTUFBTWpELFdBQVcsR0FBR2dCLE9BQU8sQ0FBQywyQkFBMkIsQ0FBQztJQUN4RCxNQUFNa0MsV0FBVyxHQUFHO01BQ2xCQyxNQUFNLEVBQUUsVUFBVTtNQUNsQkMsYUFBYSxFQUFFLEtBQUs7TUFDcEJDLGNBQWMsRUFBRSxNQUFNO01BQ3RCTixNQUFNLEVBQUUsUUFBUTtNQUNoQk8sY0FBYyxFQUFFLE9BQU87TUFDdkJDLGNBQWMsRUFBRSxNQUFNO01BQ3RCQyxTQUFTLEVBQUUsTUFBTTtNQUNqQkMsUUFBUSxFQUFFLE9BQU87TUFDakJDLFNBQVMsRUFBRSxPQUFPO01BQ2xCQyxTQUFTLEVBQUU7SUFDYixDQUFDO0lBQ0QsT0FBTyxNQUFNM0QsV0FBVyxDQUFDRixNQUFNLENBQUM7TUFBRSxHQUFHb0QsV0FBVztNQUFFLEdBQUdEO0lBQVMsQ0FBQyxDQUFDO0VBQ2xFLENBQUM7RUFFRDtFQUNBVyxpQkFBaUIsRUFBRSxNQUFBQSxDQUFPQyxNQUFNLEVBQUVDLFFBQVEsR0FBRyxNQUFNLEVBQUVDLE1BQU0sR0FBRyxPQUFPLEtBQUs7SUFDeEUsTUFBTTdELE9BQU8sR0FBR2MsT0FBTyxDQUFDLHVCQUF1QixDQUFDO0lBQ2hELE9BQU8sTUFBTWQsT0FBTyxDQUFDSixNQUFNLENBQUM7TUFDMUJrRSxPQUFPLEVBQUVILE1BQU07TUFDZkMsUUFBUTtNQUNSRyxpQkFBaUIsRUFBRUYsTUFBTTtNQUN6QkcsY0FBYyxFQUFFLEdBQUc7TUFDbkJDLGFBQWEsRUFBRUo7SUFDakIsQ0FBQyxDQUFDO0VBQ0osQ0FBQztFQUVEO0VBQ0FLLGlCQUFpQixFQUFHUCxNQUFNLElBQUs7SUFDN0IsTUFBTVEsR0FBRyxHQUFHckQsT0FBTyxDQUFDLGNBQWMsQ0FBQztJQUNuQyxPQUFPcUQsR0FBRyxDQUFDQyxJQUFJLENBQ2I7TUFBRVQsTUFBTTtNQUFFVSxJQUFJLEVBQUU7SUFBUyxDQUFDLEVBQzFCcEQsT0FBTyxDQUFDQyxHQUFHLENBQUNFLFVBQVUsRUFDdEI7TUFBRWtELFNBQVMsRUFBRTtJQUFLLENBQ3BCLENBQUM7RUFDSDtBQUNGLENBQUM7QUFlRGxGLElBQUksQ0FBQ21GLFVBQVUsQ0FBQyxLQUFLLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=